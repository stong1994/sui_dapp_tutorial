# Sui DApp Tutorial

这是一个基于 Sui 区块链的简单 DApp 示例，展示了如何创建和更新链上对象。

## 项目结构

```
sui_dapp_tutorial/
├── contracts/           # Move 智能合约
│   └── my_object/      # 对象管理合约
├── frontend/           # 前端应用
│   └── index.html      # 单页面应用
└── README.md
```

## 功能流程

```
+----------------+     +-----------------+     +------------------+
|                |     |                 |     |                  |
| 连接 Sui 钱包  +---->+ 创建链上对象    +---->+ 更新对象的值     |
|                |     |                 |     |                  |
+----------------+     +-----------------+     +------------------+
```

## 智能合约说明

### 关键对象

| 对象类型    | 说明                     | 权限                |
|------------|-------------------------|---------------------|
| MyObject   | 包含一个可修改的数值字段   | 所有者可以修改值      |

### 主要方法

- `create_object`: 创建新的对象实例
- `update_value`: 更新对象的值

## 前端界面

前端使用纯 HTML/JavaScript 实现，主要功能：

- 连接 Sui 钱包
- 创建新的链上对象
- 更新已有对象的值
- 实时状态反馈

### 技术栈

- Sui SDK (@mysten/sui)：用于与区块链交互
- 原生 JavaScript：处理用户界面和钱包交互
- Python HTTP Server：用于本地开发

## 开发环境配置

1. 安装 Sui 钱包（如 Sui Wallet）
2. 确保有 Python 3 环境（用于本地开发服务器）

## 运行说明

1. 启动本地服务器：
```bash
cd frontend
python3 -m http.server 5173
```

2. 访问应用：
打开浏览器访问 `http://localhost:5173`

## 使用说明

1. 点击"连接钱包"按钮连接 Sui 钱包
2. 在"创建对象"部分输入初始值并点击创建
3. 在"更新对象"部分输入对象 ID 和新的值，点击更新

## 注意事项

- 确保钱包已安装并切换到 Devnet 网络
- 确保钱包中有足够的 SUI 代币支付交易费用
- 记录创建的对象 ID 以便后续更新

## 错误处理

- 如果看到"未检测到钱包"，请确保已安装 Sui 钱包
- 如果交易失败，检查钱包网络是否正确，以及是否有足够的 gas

## 已知问题

### 前端 SDK 集成问题
- [ ] 当前使用 CDN 方式引入 Sui SDK 可能导致兼容性问题
- [ ] 需要迁移到 npm 包管理方式
- [ ] 需要添加构建工具（如 Vite）来处理模块依赖
- [ ] 需要处理 window.sui 未定义的边缘情况

这些问题将在后续更新中解决。如果你遇到相关问题，可以：
1. 确保使用兼容的浏览器版本
2. 检查控制台是否有错误信息
3. 刷新页面重试

## 后续计划
1. 改进前端架构，解决 SDK 集成问题
2. 添加更多错误处理和用户反馈
3. 优化用户界面和交互体验
